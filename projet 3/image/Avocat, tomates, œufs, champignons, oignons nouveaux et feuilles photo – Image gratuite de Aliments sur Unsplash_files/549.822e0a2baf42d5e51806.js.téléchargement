"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[549],{858:(e,a,r)=>{r.d(a,{D_:()=>C,G_:()=>X,W:()=>v,gz:()=>g,wk:()=>D});var t=r(51136),n=r(58904),d=r(7136),s=r(11250),o=r(9830),l=r(92091),c=r(29709),i=r(26185),h=r(54051),p=r(68767),u=r(9538),I=r(42628),m=r(90329),z=r(22538),U=r(79132),k=r(44802),G=r(63918),T=r(35552),S=r(51819),b=r(61336),y=r(86444),_=r(12003);let f=o.D.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),v=(()=>{switch(n.EX){case"development":return o.D.matchX({HomepageHeader:(0,_.a9)(307171),SayThanksCardMobile:(0,_.a9)(237077),SayThanksCardTabletUp:(0,_.a9)(237076),TopicsInFeed:s.U3({Phone:257457,[y._]:237186}),ExploreInFeed:s.U3({Phone:257456,[y._]:247889}),SearchInFeed:s.U3({Phone:257455,[y._]:241347})});case"production":return o.D.matchX({HomepageHeader:(0,_.a9)(307172),SayThanksCardMobile:(0,_.a9)(219423),SayThanksCardTabletUp:(0,_.a9)(219424),TopicsInFeed:s.U3({Phone:257453,[y._]:237209}),ExploreInFeed:s.U3({Phone:257454,[y._]:247890}),SearchInFeed:s.U3({Phone:257452,[y._]:241348})})}})(),x=e=>{let{adType:a,count:r,zoneId:t}=e;return{divName:f(a),zoneIds:z.of(t),count:r,networkId:n.$w,siteId:n.NI,adTypes:z.of(5),properties:{}}},F=e=>G.VF(a=>(0,_.zG)(u.of(d.q9),u.ap((0,_.zG)(e,x,z.of,u.of)),u.ap(u.tD((0,t.T)(a.shouldUseSecureCookies))))),g=e=>{let{adType:a,count:r,zoneId:t}=e;return(0,_.zG)(F({adType:a,count:r,zoneId:t}),T.XR,T.Zl(e=>(0,_.zG)(U.x0(d.HM)(n.el,{method:"POST",headers:{[i.wu]:c.zc.Json},body:d.D6.encode(e)}),T.QN)),S.ap,S.Zo,S.UI(e=>(0,_.zG)(e.decisions,p.P5(f(a)),k.tS(k.ij),k.UI(z.UI(e=>o.Ad.fromKevelAd({ad:z.YM(e.contents),decision:e}))))))},w=e=>h.tSV(a=>(0,_.zG)(a,h.t94(d.Sy)(e),l.ge.match({onTrue:I.Vo(()=>(0,_.zG)(a,h.d1t(a=>d.Sy.equals(a,e)))),onFalse:(0,_.a9)([])}))),D=(e,a)=>z.hX((0,_.ls)(e=>w(e.metadata.advertiserId)(a),h.EQD(_.W8,(0,_.ls)(h.Gax(a=>(0,_.zG)(e,m.fP(d.Sy)(a))),l.ge.not)))),C=b.UI(k.tS(e=>(0,_.zG)(e.template,d.YS.match({"in-feed":a=>k.G(o.Ad.mkInFeedAd({...e,template:a})),[y._]:(0,_.a9)(k.YP)})))),E=d.YS.matchX({"kitchen-sink":!0,[y._]:!1}),P=d.YS.matchX({"in-feed":!0,[y._]:!1}),X=o.D.matchX({SayThanksCardMobile:E,SayThanksCardTabletUp:E,TopicsInFeed:P,HomepageHeader:(0,_.a9)(!0),ExploreInFeed:P,SearchInFeed:P})},58726:(e,a,r)=>{r.d(a,{W2:()=>j,Yo:()=>X,DU:()=>P});var t=r(24246),n=r(87925),d=r(19305),s=r(56804),o=r(58904),l=r(25343),c=r(55352),i=r(15361),h=r(78214),p=r(97045),u=r(7136),I=r(79075),m=r(5467);let z=(0,r(80406).P1)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var U=r(11250),k=r(9830),G=r(59772),T=r(78621),S=r(54051),b=r(9538),y=r(79132),_=r(72315),f=r(44802),v=r(63918),x=r(61336),F=r(86444),g=r(12003),w=r(33569),D=r(2584),C=r(858);let E=(()=>{switch(o.EX){case"development":return[[u.zi(2260292),u.zi(2260293)]];case"production":return[[u.zi(2262847),u.zi(1890533)]]}})(),P=e=>{let{adType:a,count:r}=e,t=(0,p.v)(z),n=(0,T.m)(e=>(0,g.zG)(e,D.UI(e=>{let[a]=e;return a})),[t]),d=(0,I.M)(),s=(0,m.Fy)();return(0,T.m)(e=>{let a=(0,g.zG)(e,D.UI(e=>e[0]),D.xb(k.D.Eq.equals)),t=(0,g.zG)(e,D.UI(e=>e[1]),D.xb(f.Eh(U.Eq).equals)),s=(0,g.zG)(_.gz((0,g.zG)(a,_.u5),t),_.UI(e=>{let[a,r]=e;return(0,C.W)(a)(r)}),D.xb(f.Eh(w.Eq).equals));return(0,g.zG)(_.gz((0,g.zG)(a,_.u5),s),D.Mm(n),D.UI(e=>{let[a,r]=e;return(0,g.zG)(a,f.UI(e=>{let[a,t]=e;return(0,g.bc)(a,t,r)}))}),_.pd(e=>{let[a,t,n]=e;return(0,g.zG)(D.PQ(()=>(0,g.zG)((0,C.gz)({adType:a,count:3*r,zoneId:t}),v.nn(d))),D.bw((0,g.ls)(x.eL((0,g.a9)(b.Xc),y.JQ.match({CodecErrors:e=>{let{type:r,errors:t}=e;return(0,g.zG)((0,l.$b)({type:r,errors:(0,g.zG)(t,S.Ce7(`
Kevel response failed decoding for adType: "${k.D.Show.show(a)}"`))}),b.Ep)},[F._]:(0,g.a9)(b.Xc)}),e=>{let r=(0,g.zG)(e,f.Tw([]),S.UID(e=>e.template),S.d1t((0,C.G_)(a)));return S.OdA(r)?(0,l.Kw)({error:`Kevel response has invalid templates (${(0,g.zG)(r,S.UID(u.gA),S.v_p(", "))}) for ad type: "${k.D.Show.show(a)}"`}):b.Xc}),b.ht)),D.UI(x.UI(f.tS((0,C.wk)(n,E)))))}),D.UI(f.pF(()=>x.nn)))},[a,s])},X=e=>{let{adType:a,count:r,children:t}=e;return t((0,h.s)(P({adType:a,count:r})))},A=e=>{let{metadata:a}=e;return(0,t.jsxs)(G.PRT,{children:[(0,t.jsx)(s._,{url:a.impressionUrl}),(0,g.zG)(a.impressionTrackers,f.WA(S.Sud((e,a)=>(0,t.jsx)(s._,{url:a},e))))]})},j=e=>{let{children:a,metadata:r,adType:s}=e,o=(0,c.I)();return(0,i.b)(()=>{o(n.aU.mk.DirectAdImpression({metadata:r,adType:s}))}),(0,t.jsxs)(G.PRT,{children:[a,(0,t.jsx)(d.Z,{children:(0,t.jsx)(A,{metadata:r})})]})}},85983:(e,a,r)=>{r.d(a,{$:()=>c});var t=r(24246),n=r(87925),d=r(35202),s=r(55352),o=r(59772),l=r(13353);let c=e=>{let{metadata:a,adType:r,...c}=e,i=(0,s.I)(),h=o.I47(()=>{i(n.aU.mk.Track(l.ju.mk.DirectAdClick({metadata:a,adType:r})))},[a,r]);return(0,t.jsx)(d.r,{onClick:h,href:a.clickUrl,...c})}},78214:(e,a,r)=>{r.d(a,{s:()=>d});var t=r(40196),n=r(61336);let d=e=>(0,t.p)(e,n.nn)},50294:(e,a,r)=>{r.d(a,{$:()=>l});var t=r(78344),n=r(24715),d=r(9538),s=r(44802);let o=(0,r(12003).zG)(n.V4,d.ht,s.Gg(e=>"force_direct_ads"in e)),l=()=>(0,t.US)()&&o}}]);